<html lang="">

	<head>

		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">

		<script src="resources/demo.js?v=2"></script>

		<title>Crag Charts: Column</title>

		<style>

			:root {
				--bg: #FFFFFF;
				--on-bg: #081b33;
			}
			@media screen and (prefers-color-scheme: dark) {
				:root {
					--bg: #081b33;
					--on-bg: #FFFFFF;
				}
			}

			body {
				background-color: var(--bg);
			}
			button, select {
				height: 25px;
			}
			.chart-container {
				height: calc(100% - 25px);
			}


		</style>

	</head>

	<body>

		<div>

			<button onclick="newData()">Random Data</button>
			<button onclick="newTitle()">Random Title</button>
			<select onchange="newColumnColor(this)">
				<option value="multi">Column Color (Default: Multi)</option>
				<option value="redGreen">Red/Green</option>
				<option value="orange">Orange</option>
				<option value="green">Green</option>
				<option value="blue">Blue</option>
			</select>
			<select onchange="newLabelPos(this)">
				<option value="none">Column Label Position (Default: None)</option>
				<option value="inside">Inside</option>
				<option value="outside">Outside</option>
			</select>
			<select onchange="newLabelColor(this)">
				<option value="auto">Column Label Color (Default: Auto)</option>
				<option value="match">Match Label</option>
				<option value="blue">Blue</option>
				<option value="green">Green</option>
			</select>

		</div>

		<div id="column-chart" class="chart-container"></div>
		
		<script src="crag/crag.charts.loader.js?v=1"></script>
		<script>

			const themeQuery = window.matchMedia('(prefers-color-scheme: dark)');
			let chart;

			new CragLoader(['column'], createChart, '/crag/');

			function createChart() {

				const options = {
					data: dataGenerator(5),
					columns: {
						width: 95,
						rounded: true,
						inset: true,
					},
					vAxis: {
						label: 'Data Set'
					},
					chart: {
						color: cssVar('bg')
					}
				}

				chart = new CragColumn(options).create('column-chart');

			}

			function newColumnColor(elem) {

				chart.columnColor = elem.value;

			}

			function newData() {

				chart.newData = dataGenerator(15);

			}

			function newTitle() {

				chart.title = randomName(20);

			}

			function newLabelPos(elem) {

				chart.labelPosition = elem.value;

			}

			function newLabelColor(elem) {

				chart.labelColor = elem.value;

			}

			themeQuery.addEventListener('change', event => {

				chart.chartColor = cssVar('bg')

			});

		</script>

	</body>

</html>