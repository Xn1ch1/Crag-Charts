<html lang="">

	<head>

		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">

		<script src="resources/demo.js?v=2"></script>

		<title>Crag Charts: Column</title>

		<style>
			body {
				background-color: #FFFFFF;
			}
			button, select {
				height: 25px;
			}
			.chart-container {
				height: calc(100% - 25px);
			}

			@media screen and (prefers-color-scheme: dark) {
				body {
					background-color: #081b33;
				}
			}

		</style>

	</head>

	<body>

		<button onclick="newData()">Random Data</button>
		<button onclick="newTitle()">Random Title</button>
		<select onchange="newBarColor(this)">
			<option value="multi">Bar Color (Default: Multi)</option>
			<option value="positiveNegative">Red/Green</option>
			<option value="orange">Orange</option>
			<option value="green">Green</option>
			<option value="blue">Blue</option>
		</select>
		<select onchange="newLabelPos(this)">
			<option value="none">Column Label Position (Default: None)</option>
			<option value="inside">Inside</option>
			<option value="outside">Outside</option>
		</select>

		<div id="column-chart" class="chart-container"></div>
		
		<script src="crag/crag.charts.loader.js?v=1"></script>
		<script>

			const themeQuery = window.matchMedia('(prefers-color-scheme: dark)');
			let chart;

			new CragLoader(['column'], '/crag/', createChart);

			function createChart() {

				const background = themeQuery.matches ? '#081b33' : '#FFFFFF';

				const options = {
					data: [['A', -400], ['B', 500], ['C', 300], ['D', -25]],
					bar: {
						width: 95,
						rounded: true,
						inset: true,
					},
					labels: {
						color: 'match'
					},
					chart: {
						color: background
					}
				}
				chart = new CragColumn(options).create('column-chart');

				console.log(chart);

			}

			function newBarColor(elem) {

				chart.barColor = elem.value;

			}

			function newData() {

				chart.update(dataGenerator(15));

			}

			function newTitle() {

				chart.title = randomName(20);

			}

			function newLabelPos(elem) {

				chart.labelPosition = elem.value;

			}

			themeQuery.addEventListener('change', event => {
				
				if (themeQuery.matches) {

					chart.chartColor = '#081b33';

				} else {
					
					chart.chartColor = '#FFFFFF';

				}
				
			});

		</script>

	</body>

</html>